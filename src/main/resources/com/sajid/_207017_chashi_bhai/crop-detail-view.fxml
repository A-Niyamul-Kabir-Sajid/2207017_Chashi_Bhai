<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>

<BorderPane minHeight="700" minWidth="1024" styleClass="root" xmlns:fx="http://javafx.com/fxml/1" xmlns="http://javafx.com/javafx/25" fx:controller="com.sajid._207017_chashi_bhai.controllers.CropDetailController">
    
    <!-- Top Navigation -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="20" styleClass="nav-bar">
            <padding>
                <Insets bottom="15" left="20" right="20" top="15" />
            </padding>
            <Button fx:id="btnBack" onAction="#onBack" styleClass="back-button" text="â†" />
            <Label styleClass="page-title" text="à¦«à¦¸à¦²à§‡à¦° à¦¬à¦¿à¦¸à§à¦¤à¦¾à¦°à¦¿à¦¤ / Crop Details" />
            <Region HBox.hgrow="ALWAYS" />
            <Button fx:id="btnFavorite" onAction="#onToggleFavorite" styleClass="icon-button" text="â¤" />
        </HBox>
    </top>

    <center>
        <ScrollPane fitToWidth="true" styleClass="scroll-pane">
            <VBox spacing="30">
                <padding>
                    <Insets bottom="40" left="40" right="40" top="25" />
                </padding>

                <!-- Photo Carousel -->
                <VBox spacing="15" styleClass="photo-carousel-container">
                    <StackPane>
                        <ImageView fx:id="imgMainPhoto" fitHeight="450" fitWidth="700" preserveRatio="true" styleClass="main-crop-photo" />
                        
                        <!-- Navigation Arrows -->
                        <HBox alignment="CENTER" spacing="600" />
                    </StackPane>
                    
                    <!-- Thumbnail Gallery -->
                    <HBox fx:id="hboxThumbnails" alignment="CENTER" spacing="12">
                        <ImageView fitHeight="80" fitWidth="100" preserveRatio="true" styleClass="thumbnail-photo, thumbnail-active" />
                        <ImageView fitHeight="80" fitWidth="100" preserveRatio="true" styleClass="thumbnail-photo" />
                        <ImageView fitHeight="80" fitWidth="100" preserveRatio="true" styleClass="thumbnail-photo" />
                        <ImageView fitHeight="80" fitWidth="100" preserveRatio="true" styleClass="thumbnail-photo" />
                    </HBox>
                </VBox>

                <HBox alignment="TOP_LEFT" spacing="30">
                    <!-- Left Column - Crop Details -->
                    <VBox spacing="20" styleClass="detail-section" HBox.hgrow="ALWAYS">
                        <padding>
                            <Insets bottom="25" left="25" right="25" top="25" />
                        </padding>
                        
                        <!-- Crop Name & Price -->
                        <VBox spacing="12">
                            <Label fx:id="lblCropName" styleClass="detail-crop-name" text="à¦§à¦¾à¦¨ (Rice)" />
                            <HBox alignment="CENTER_LEFT" spacing="15">
                                <Label fx:id="lblCropPrice" styleClass="detail-price" text="à§³ 45" />
                                <Label styleClass="detail-unit" text="à¦ªà§à¦°à¦¤à¦¿ à¦•à§‡à¦œà¦¿" />
                                <Region HBox.hgrow="ALWAYS" />
                                <Label styleClass="status-active" text="âœ“ à¦¸à¦•à§à¦°à¦¿à¦¯à¦¼" />
                            </HBox>
                            <!-- Product Code -->
                            <HBox alignment="CENTER_LEFT" spacing="10" styleClass="product-code-box">
                                <Label styleClass="detail-label" text="à¦ªà¦£à§à¦¯ à¦•à§‹à¦¡:" />
                                <Label fx:id="lblProductCode" styleClass="product-code-value" text="CRP-20260108-0001" />
                                <Button fx:id="btnCopyCode" onAction="#onCopyProductCode" styleClass="button-transparent" text="ðŸ“‹ à¦•à¦ªà¦¿" />
                            </HBox>
                        </VBox>
                        
                        <Separator />
                        
                        <!-- Crop Info Grid -->
                        <GridPane hgap="20" vgap="15">
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="0">
                                <Label styleClass="detail-label" text="à¦•à§à¦¯à¦¾à¦Ÿà¦¾à¦—à¦°à¦¿ / Category" />
                                <Label fx:id="lblCategory" styleClass="detail-value" text="à¦¶à¦¸à§à¦¯ (Grains)" />
                            </VBox>
                            
                            <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="0">
                                <Label styleClass="detail-label" text="à¦‰à¦ªà¦²à¦¬à§à¦§ à¦ªà¦°à¦¿à¦®à¦¾à¦£ / Available" />
                                <Label fx:id="lblQuantity" styleClass="detail-value" text="à§§à§¦à§¦ à¦•à§‡à¦œà¦¿" />
                            </VBox>
                            
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="1">
                                <Label styleClass="detail-label" text="à¦•à¦¾à¦Ÿà¦¾à¦° à¦¤à¦¾à¦°à¦¿à¦– / Harvest Date" />
                                <Label fx:id="lblHarvestDate" styleClass="detail-value" text="à§§à§« à¦¡à¦¿à¦¸à§‡à¦®à§à¦¬à¦° à§¨à§¦à§¨à§«" />
                            </VBox>
                            
                            <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="1">
                                <Label styleClass="detail-label" text="à¦…à¦¬à¦¸à§à¦¥à¦¾à¦¨ / Location" />
                                <Label fx:id="lblLocation" styleClass="detail-value" text="à¦¢à¦¾à¦•à¦¾" />
                            </VBox>
                            
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="2">
                                <Label styleClass="detail-label" text="à¦ªà¦°à¦¿à¦¬à¦¹à¦¨ / Transport" />
                                <Label fx:id="lblTransport" styleClass="detail-value" text="ðŸšš à¦•à§à¦°à§‡à¦¤à¦¾ à¦¨à¦¿à¦¯à¦¼à§‡ à¦¯à¦¾à¦¬à§‡à¦¨ (Buyer picks up)" />
                            </VBox>
                     <columnConstraints>
                        <ColumnConstraints />
                        <ColumnConstraints />
                     </columnConstraints>
                     <rowConstraints>
                        <RowConstraints />
                        <RowConstraints />
                        <RowConstraints />
                     </rowConstraints>
                        </GridPane>
                        
                        <Separator />
                        
                        <!-- Description -->
                        <VBox spacing="10">
                            <Label styleClass="detail-label" text="à¦¬à¦¿à¦¸à§à¦¤à¦¾à¦°à¦¿à¦¤ à¦¬à¦°à§à¦£à¦¨à¦¾ / Description" />
                            <Label fx:id="lblDescription" styleClass="detail-description" text="à¦‰à¦šà§à¦šà¦®à¦¾à¦¨à§‡à¦° à¦§à¦¾à¦¨à¥¤ à¦œà§ˆà¦¬ à¦¸à¦¾à¦°à§‡ à¦‰à§Žà¦ªà¦¾à¦¦à¦¿à¦¤à¥¤ à¦¸à¦°à¦¾à¦¸à¦°à¦¿ à¦–à¦¾à¦®à¦¾à¦° à¦¥à§‡à¦•à§‡..." wrapText="true" />
                        </VBox>
                    </VBox>

                    <!-- Right Column - Farmer Info & Actions -->
                    <VBox prefWidth="350" spacing="20">
                        
                        <!-- Farmer Profile Card -->
                        <VBox spacing="15" styleClass="card, farmer-profile-card">
                            <padding>
                                <Insets bottom="25" left="25" right="25" top="25" />
                            </padding>
                            
                            <Label styleClass="section-subtitle" text="à¦•à§ƒà¦·à¦• à¦¤à¦¥à§à¦¯ / Farmer Info" />
                            
                            <!-- Farmer Photo & Name -->
                            <HBox alignment="CENTER_LEFT" spacing="15">
                                <StackPane>
                                    <Circle radius="35" styleClass="farmer-photo-border" />
                                    <ImageView fx:id="imgFarmerPhoto" fitHeight="65" fitWidth="65" preserveRatio="true" styleClass="farmer-photo" />
                                </StackPane>
                                
                                <VBox spacing="5">
                                    <HBox alignment="CENTER_LEFT" spacing="8">
                                        <Label fx:id="lblFarmerName" styleClass="farmer-detail-name" text="à¦°à¦¹à¦¿à¦® à¦‰à¦¦à§à¦¦à¦¿à¦¨" />
                                        <Label styleClass="verified-badge-small" text="âœ“" />
                                    </HBox>
                                    <HBox alignment="CENTER_LEFT" spacing="8">
                                        <Label styleClass="icon-small" text="â­" />
                                        <Label fx:id="lblFarmerRating" styleClass="farmer-rating-text" text="4.8" />
                                        <Label fx:id="lblTotalReviews" styleClass="farmer-review-count" text="(45 à¦°à¦¿à¦­à¦¿à¦‰)" />
                                    </HBox>
                                </VBox>
                            </HBox>
                            
                            <!-- Farmer Stats -->
                            <HBox alignment="CENTER" spacing="25">
                                <VBox alignment="CENTER" spacing="5">
                                    <Label fx:id="lblFarmerYears" styleClass="farmer-stat-value" text="5" />
                                    <Label styleClass="farmer-stat-label" text="à¦¬à¦›à¦°" />
                                </VBox>
                                <Separator orientation="VERTICAL" />
                                <VBox alignment="CENTER" spacing="5">
                                    <Label fx:id="lblFarmerSales" styleClass="farmer-stat-value" text="120" />
                                    <Label styleClass="farmer-stat-label" text="à¦¬à¦¿à¦•à§à¦°à¦¯à¦¼" />
                                </VBox>
                                <Separator orientation="VERTICAL" />
                                <VBox alignment="CENTER" spacing="5">
                                    <Label fx:id="lblFarmerDistrict" styleClass="farmer-stat-value" text="à¦¢à¦¾à¦•à¦¾" />
                                    <Label styleClass="farmer-stat-label" text="à¦œà§‡à¦²à¦¾" />
                                </VBox>
                            </HBox>
                            
                            <Button onAction="#onViewFarmerProfile" prefWidth="280" styleClass="button-link" text="ðŸ‘¤ à¦•à§ƒà¦·à¦•à§‡à¦° à¦ªà§à¦°à§‹à¦«à¦¾à¦‡à¦² à¦¦à§‡à¦–à§à¦¨" />
                        </VBox>

                        <!-- Contact Actions -->
                        <VBox spacing="12" styleClass="action-buttons">
                            <Button fx:id="btnCall" onAction="#onCall" prefHeight="50" styleClass="btn-action-call" text="ðŸ“ž à¦•à¦² à¦•à¦°à§à¦¨" />
                            <Button fx:id="btnWhatsApp" onAction="#onWhatsApp" prefHeight="50" styleClass="btn-action-whatsapp" text="ðŸ’¬ WhatsApp" />
                            <Button fx:id="btnChat" onAction="#onChat" prefHeight="50" styleClass="btn-action-chat" text="ðŸ’¬ à¦šà§à¦¯à¦¾à¦Ÿ à¦•à¦°à§à¦¨" />
                            <Button fx:id="btnOrder" onAction="#onOrder" prefHeight="55" styleClass="btn-action-order" text="ðŸ›’ à¦…à¦°à§à¦¡à¦¾à¦° à¦•à¦°à§à¦¨" />
                        </VBox>

                        <!-- Farm Photos -->
                        <VBox spacing="12" styleClass="farm-photos-section">
                            <Label styleClass="section-subtitle" text="à¦–à¦¾à¦®à¦¾à¦°à§‡à¦° à¦›à¦¬à¦¿ / Farm Photos" />
                            <VBox spacing="10">
                                <ImageView fitHeight="180" fitWidth="300" preserveRatio="true" styleClass="farm-photo-small" />
                                <ImageView fitHeight="180" fitWidth="300" preserveRatio="true" styleClass="farm-photo-small" />
                            </VBox>
                        </VBox>

                    </VBox>
                </HBox>

            </VBox>
        </ScrollPane>
    </center>
    
</BorderPane>
