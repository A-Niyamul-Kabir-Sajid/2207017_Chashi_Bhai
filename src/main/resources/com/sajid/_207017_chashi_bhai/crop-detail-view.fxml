<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.shape.Circle?>

<BorderPane xmlns:fx="http://javafx.com/fxml" fx:controller="com.sajid._207017_chashi_bhai.controllers.CropDetailController" styleClass="root" minHeight="700" minWidth="1024">
    
    <!-- Top Navigation -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="20" styleClass="nav-bar">
            <padding>
                <Insets top="15" bottom="15" left="20" right="20"/>
            </padding>
            <Button text="â†" styleClass="back-button" fx:id="btnBack" onAction="#onBack"/>
            <Label text="à¦«à¦¸à¦²à§‡à¦° à¦¬à¦¿à¦¸à§à¦¤à¦¾à¦°à¦¿à¦¤ / Crop Details" styleClass="page-title"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Button fx:id="btnFavorite" text="â¤" styleClass="icon-button" onAction="#onToggleFavorite"/>
        </HBox>
    </top>

    <center>
        <ScrollPane fitToWidth="true" styleClass="scroll-pane">
            <VBox spacing="30">
                <padding>
                    <Insets top="25" bottom="40" left="40" right="40"/>
                </padding>

                <!-- Photo Carousel -->
                <VBox spacing="15" styleClass="photo-carousel-container">
                    <StackPane>
                        <ImageView fx:id="imgMainPhoto" fitWidth="700" fitHeight="450" preserveRatio="true" styleClass="main-crop-photo"/>
                        
                        <!-- Navigation Arrows -->
                        <HBox alignment="CENTER" spacing="600">
                            <Button text="â—„" styleClass="carousel-button" fx:id="btnPrevPhoto" onAction="#onPrevPhoto"/>
                            <Button text="â–º" styleClass="carousel-button" fx:id="btnNextPhoto" onAction="#onNextPhoto"/>
                        </HBox>
                    </StackPane>
                    
                    <!-- Thumbnail Gallery -->
                    <HBox spacing="12" alignment="CENTER" fx:id="hboxThumbnails">
                        <ImageView fitWidth="100" fitHeight="80" preserveRatio="true" styleClass="thumbnail-photo, thumbnail-active"/>
                        <ImageView fitWidth="100" fitHeight="80" preserveRatio="true" styleClass="thumbnail-photo"/>
                        <ImageView fitWidth="100" fitHeight="80" preserveRatio="true" styleClass="thumbnail-photo"/>
                        <ImageView fitWidth="100" fitHeight="80" preserveRatio="true" styleClass="thumbnail-photo"/>
                    </HBox>
                </VBox>

                <HBox spacing="30" alignment="TOP_LEFT">
                    <!-- Left Column - Crop Details -->
                    <VBox spacing="20" styleClass="detail-section" HBox.hgrow="ALWAYS">
                        <padding>
                            <Insets top="25" bottom="25" left="25" right="25"/>
                        </padding>
                        
                        <!-- Crop Name & Price -->
                        <VBox spacing="12">
                            <Label fx:id="lblCropName" text="à¦§à¦¾à¦¨ (Rice)" styleClass="detail-crop-name"/>
                            <HBox spacing="15" alignment="CENTER_LEFT">
                                <Label fx:id="lblCropPrice" text="à§³ 45" styleClass="detail-price"/>
                                <Label text="à¦ªà§à¦°à¦¤à¦¿ à¦•à§‡à¦œà¦¿" styleClass="detail-unit"/>
                                <Region HBox.hgrow="ALWAYS"/>
                                <Label text="âœ“ à¦¸à¦•à§à¦°à¦¿à¦¯à¦¼" styleClass="status-active"/>
                            </HBox>
                        </VBox>
                        
                        <Separator/>
                        
                        <!-- Crop Info Grid -->
                        <GridPane hgap="20" vgap="15">
                            <VBox spacing="5" GridPane.rowIndex="0" GridPane.columnIndex="0">
                                <Label text="à¦•à§à¦¯à¦¾à¦Ÿà¦¾à¦—à¦°à¦¿ / Category" styleClass="detail-label"/>
                                <Label fx:id="lblCategory" text="à¦¶à¦¸à§à¦¯ (Grains)" styleClass="detail-value"/>
                            </VBox>
                            
                            <VBox spacing="5" GridPane.rowIndex="0" GridPane.columnIndex="1">
                                <Label text="à¦‰à¦ªà¦²à¦¬à§à¦§ à¦ªà¦°à¦¿à¦®à¦¾à¦£ / Available" styleClass="detail-label"/>
                                <Label fx:id="lblQuantity" text="à§§à§¦à§¦ à¦•à§‡à¦œà¦¿" styleClass="detail-value"/>
                            </VBox>
                            
                            <VBox spacing="5" GridPane.rowIndex="1" GridPane.columnIndex="0">
                                <Label text="à¦•à¦¾à¦Ÿà¦¾à¦° à¦¤à¦¾à¦°à¦¿à¦– / Harvest Date" styleClass="detail-label"/>
                                <Label fx:id="lblHarvestDate" text="à§§à§« à¦¡à¦¿à¦¸à§‡à¦®à§à¦¬à¦° à§¨à§¦à§¨à§«" styleClass="detail-value"/>
                            </VBox>
                            
                            <VBox spacing="5" GridPane.rowIndex="1" GridPane.columnIndex="1">
                                <Label text="à¦…à¦¬à¦¸à§à¦¥à¦¾à¦¨ / Location" styleClass="detail-label"/>
                                <Label fx:id="lblLocation" text="à¦¢à¦¾à¦•à¦¾" styleClass="detail-value"/>
                            </VBox>
                            
                            <VBox spacing="5" GridPane.rowIndex="2" GridPane.columnIndex="0" GridPane.columnSpan="2">
                                <Label text="à¦ªà¦°à¦¿à¦¬à¦¹à¦¨ / Transport" styleClass="detail-label"/>
                                <Label fx:id="lblTransport" text="ðŸšš à¦•à§à¦°à§‡à¦¤à¦¾ à¦¨à¦¿à¦¯à¦¼à§‡ à¦¯à¦¾à¦¬à§‡à¦¨ (Buyer picks up)" styleClass="detail-value"/>
                            </VBox>
                        </GridPane>
                        
                        <Separator/>
                        
                        <!-- Description -->
                        <VBox spacing="10">
                            <Label text="à¦¬à¦¿à¦¸à§à¦¤à¦¾à¦°à¦¿à¦¤ à¦¬à¦°à§à¦£à¦¨à¦¾ / Description" styleClass="detail-label"/>
                            <Label fx:id="lblDescription" text="à¦‰à¦šà§à¦šà¦®à¦¾à¦¨à§‡à¦° à¦§à¦¾à¦¨à¥¤ à¦œà§ˆà¦¬ à¦¸à¦¾à¦°à§‡ à¦‰à§Žà¦ªà¦¾à¦¦à¦¿à¦¤à¥¤ à¦¸à¦°à¦¾à¦¸à¦°à¦¿ à¦–à¦¾à¦®à¦¾à¦° à¦¥à§‡à¦•à§‡..." 
                                   styleClass="detail-description" wrapText="true"/>
                        </VBox>
                    </VBox>

                    <!-- Right Column - Farmer Info & Actions -->
                    <VBox spacing="20" prefWidth="350">
                        
                        <!-- Farmer Profile Card -->
                        <VBox spacing="15" styleClass="card, farmer-profile-card">
                            <padding>
                                <Insets top="25" bottom="25" left="25" right="25"/>
                            </padding>
                            
                            <Label text="à¦•à§ƒà¦·à¦• à¦¤à¦¥à§à¦¯ / Farmer Info" styleClass="section-subtitle"/>
                            
                            <!-- Farmer Photo & Name -->
                            <HBox spacing="15" alignment="CENTER_LEFT">
                                <StackPane>
                                    <Circle radius="35" styleClass="farmer-photo-border"/>
                                    <ImageView fx:id="imgFarmerPhoto" fitWidth="65" fitHeight="65" preserveRatio="true" styleClass="farmer-photo"/>
                                </StackPane>
                                
                                <VBox spacing="5">
                                    <HBox spacing="8" alignment="CENTER_LEFT">
                                        <Label fx:id="lblFarmerName" text="à¦°à¦¹à¦¿à¦® à¦‰à¦¦à§à¦¦à¦¿à¦¨" styleClass="farmer-detail-name"/>
                                        <Label text="âœ“" styleClass="verified-badge-small"/>
                                    </HBox>
                                    <HBox spacing="8" alignment="CENTER_LEFT">
                                        <Label text="â­" styleClass="icon-small"/>
                                        <Label fx:id="lblFarmerRating" text="4.8" styleClass="farmer-rating-text"/>
                                        <Label fx:id="lblTotalReviews" text="(45 à¦°à¦¿à¦­à¦¿à¦‰)" styleClass="farmer-review-count"/>
                                    </HBox>
                                </VBox>
                            </HBox>
                            
                            <!-- Farmer Stats -->
                            <HBox spacing="25" alignment="CENTER">
                                <VBox spacing="5" alignment="CENTER">
                                    <Label fx:id="lblFarmerYears" text="5" styleClass="farmer-stat-value"/>
                                    <Label text="à¦¬à¦›à¦°" styleClass="farmer-stat-label"/>
                                </VBox>
                                <Separator orientation="VERTICAL"/>
                                <VBox spacing="5" alignment="CENTER">
                                    <Label fx:id="lblFarmerSales" text="120" styleClass="farmer-stat-value"/>
                                    <Label text="à¦¬à¦¿à¦•à§à¦°à¦¯à¦¼" styleClass="farmer-stat-label"/>
                                </VBox>
                                <Separator orientation="VERTICAL"/>
                                <VBox spacing="5" alignment="CENTER">
                                    <Label fx:id="lblFarmerDistrict" text="à¦¢à¦¾à¦•à¦¾" styleClass="farmer-stat-value"/>
                                    <Label text="à¦œà§‡à¦²à¦¾" styleClass="farmer-stat-label"/>
                                </VBox>
                            </HBox>
                            
                            <Button text="ðŸ‘¤ à¦•à§ƒà¦·à¦•à§‡à¦° à¦ªà§à¦°à§‹à¦«à¦¾à¦‡à¦² à¦¦à§‡à¦–à§à¦¨" styleClass="button-link" onAction="#onViewFarmerProfile" prefWidth="280"/>
                        </VBox>

                        <!-- Contact Actions -->
                        <VBox spacing="12" styleClass="action-buttons">
                            <Button fx:id="btnCall" text="ðŸ“ž à¦•à¦² à¦•à¦°à§à¦¨" styleClass="btn-action-call" prefHeight="50" onAction="#onCall"/>
                            <Button fx:id="btnWhatsApp" text="ðŸ’¬ WhatsApp" styleClass="btn-action-whatsapp" prefHeight="50" onAction="#onWhatsApp"/>
                            <Button fx:id="btnOrder" text="ðŸ›’ à¦…à¦°à§à¦¡à¦¾à¦° à¦•à¦°à§à¦¨" styleClass="btn-action-order" prefHeight="55" onAction="#onOrder"/>
                        </VBox>

                        <!-- Farm Photos -->
                        <VBox spacing="12" styleClass="farm-photos-section">
                            <Label text="à¦–à¦¾à¦®à¦¾à¦°à§‡à¦° à¦›à¦¬à¦¿ / Farm Photos" styleClass="section-subtitle"/>
                            <VBox spacing="10">
                                <ImageView fitWidth="300" fitHeight="180" preserveRatio="true" styleClass="farm-photo-small"/>
                                <ImageView fitWidth="300" fitHeight="180" preserveRatio="true" styleClass="farm-photo-small"/>
                            </VBox>
                        </VBox>

                    </VBox>
                </HBox>

            </VBox>
        </ScrollPane>
    </center>
    
</BorderPane>
