<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.ImageView?>

<BorderPane xmlns:fx="http://javafx.com/fxml" fx:controller="com.sajid._207017_chashi_bhai.controllers.OrderDetailController" styleClass="root" minHeight="600" minWidth="1024" prefHeight="600">
    
    <!-- Top Navigation -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="20" styleClass="nav-bar">
            <padding>
                <Insets top="15" bottom="15" left="20" right="20"/>
            </padding>
            <Button text="â†" styleClass="back-button" fx:id="btnBack" onAction="#onBack"/>
            <Label text="ðŸŒ¾ à¦…à¦°à§à¦¡à¦¾à¦° à¦¬à¦¿à¦¬à¦°à¦£ / Order Details" styleClass="app-title"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Button fx:id="btnCopyOrderNumber" text="ðŸ“‹ à¦•à¦ªà¦¿" styleClass="button-secondary" onAction="#onCopyOrderNumber"/>
        </HBox>
    </top>

    <center>
        <ScrollPane fitToWidth="true" styleClass="scroll-pane">
            <VBox alignment="TOP_CENTER" spacing="25" styleClass="detail-container">
                <padding>
                    <Insets top="30" bottom="40" left="40" right="40"/>
                </padding>

                <!-- Order Header Card -->
                <VBox alignment="CENTER" spacing="15" styleClass="card">
                    <padding>
                        <Insets top="25" bottom="25" left="30" right="30"/>
                    </padding>
                    
                    <HBox alignment="CENTER" spacing="15">
                        <Label text="ðŸ“¦" style="-fx-font-size: 32px;"/>
                        <VBox spacing="5">
                            <Label fx:id="lblOrderNumber" text="ORD-20260108-0001" styleClass="order-number" style="-fx-font-size: 22px; -fx-font-weight: bold;"/>
                            <Label fx:id="lblOrderStatus" text="ðŸŸ¢ à¦—à§ƒà¦¹à§€à¦¤" styleClass="order-status"/>
                        </VBox>
                    </HBox>
                    
                    <Separator/>
                    
                    <GridPane hgap="30" vgap="15" alignment="CENTER">
                        <Label text="à¦…à¦°à§à¦¡à¦¾à¦° ID:" GridPane.rowIndex="0" GridPane.columnIndex="0" styleClass="detail-label"/>
                        <Label fx:id="lblOrderId" text="0" GridPane.rowIndex="0" GridPane.columnIndex="1" styleClass="detail-value"/>

                        <Label text="à¦¤à¦¾à¦°à¦¿à¦–:" GridPane.rowIndex="1" GridPane.columnIndex="0" styleClass="detail-label"/>
                        <Label fx:id="lblOrderDate" text="2026-01-08" GridPane.rowIndex="1" GridPane.columnIndex="1" styleClass="detail-value"/>
                        
                        <Label text="à¦ªà§‡à¦®à§‡à¦¨à§à¦Ÿ:" GridPane.rowIndex="2" GridPane.columnIndex="0" styleClass="detail-label"/>
                        <Label fx:id="lblPaymentStatus" text="à¦¬à¦•à§‡à¦¯à¦¼à¦¾" GridPane.rowIndex="2" GridPane.columnIndex="1" styleClass="detail-value"/>
                        
                        <Label text="à¦®à§‹à¦Ÿ à¦®à§‚à¦²à§à¦¯:" GridPane.rowIndex="3" GridPane.columnIndex="0" styleClass="detail-label"/>
                        <Label fx:id="lblTotalAmount" text="à§³ 5,000.00" GridPane.rowIndex="3" GridPane.columnIndex="1" styleClass="detail-value" style="-fx-font-weight: bold; -fx-text-fill: #4CAF50;"/>
                    </GridPane>
                </VBox>

                <!-- Status Timeline Card -->
                <VBox spacing="15" styleClass="card">
                    <padding>
                        <Insets top="20" bottom="20" left="25" right="25"/>
                    </padding>

                    <Label text="ðŸ§¾ à¦…à¦°à§à¦¡à¦¾à¦° à¦¸à§à¦Ÿà§à¦¯à¦¾à¦Ÿà¦¾à¦¸ / Status Timeline" styleClass="section-title"/>

                    <GridPane hgap="25" vgap="12">
                        <Label text="Request to accept" GridPane.rowIndex="0" GridPane.columnIndex="0" styleClass="detail-label"/>
                        <Label fx:id="lblStatusRequestedAt" text="â€”" GridPane.rowIndex="0" GridPane.columnIndex="1" styleClass="detail-value"/>

                        <Label text="Accepted by farmer" GridPane.rowIndex="1" GridPane.columnIndex="0" styleClass="detail-label"/>
                        <Label fx:id="lblStatusAcceptedAt" text="â€”" GridPane.rowIndex="1" GridPane.columnIndex="1" styleClass="detail-value"/>

                        <Label text="Passed to deliver" GridPane.rowIndex="2" GridPane.columnIndex="0" styleClass="detail-label"/>
                        <Label fx:id="lblStatusDeliveredAt" text="â€”" GridPane.rowIndex="2" GridPane.columnIndex="1" styleClass="detail-value"/>

                        <Label text="Received" GridPane.rowIndex="3" GridPane.columnIndex="0" styleClass="detail-label"/>
                        <Label fx:id="lblStatusCompletedAt" text="â€”" GridPane.rowIndex="3" GridPane.columnIndex="1" styleClass="detail-value"/>
                    </GridPane>
                </VBox>

                <!-- Crop Details Card -->
                <VBox spacing="15" styleClass="card">
                    <padding>
                        <Insets top="20" bottom="20" left="25" right="25"/>
                    </padding>
                    
                    <Label text="ðŸŒ¾ à¦«à¦¸à¦²à§‡à¦° à¦¤à¦¥à§à¦¯ / Crop Details" styleClass="section-title"/>
                    
                    <HBox spacing="20" alignment="CENTER_LEFT">
                        <ImageView fx:id="imgCrop" fitWidth="120" fitHeight="100" preserveRatio="true" styleClass="crop-photo"/>
                        
                        <VBox spacing="8" HBox.hgrow="ALWAYS">
                            <HBox spacing="10" alignment="CENTER_LEFT">
                                <Label fx:id="lblCropName" text="à¦¤à¦¾à¦œà¦¾ à¦Ÿà¦®à§‡à¦Ÿà§‹" styleClass="crop-name" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
                                <Label fx:id="lblProductCode" text="CRP-20260108-0001" styleClass="product-code" style="-fx-font-size: 12px; -fx-text-fill: #888;"/>
                            </HBox>
                            <Label fx:id="lblCropId" text="Crop ID: 0" styleClass="info-text"/>
                            <Label fx:id="lblCropCategory" text="à¦¸à¦¬à¦œà¦¿ (Vegetables)" styleClass="info-text"/>
                            <HBox spacing="15">
                                <VBox spacing="3">
                                    <Label text="à¦…à¦°à§à¦¡à¦¾à¦°à¦•à§ƒà¦¤ à¦ªà¦°à¦¿à¦®à¦¾à¦£:" styleClass="detail-label"/>
                                    <Label fx:id="lblOrderedQuantity" text="50 à¦•à§‡à¦œà¦¿" styleClass="detail-value" style="-fx-font-weight: bold;"/>
                                </VBox>
                                <VBox spacing="3">
                                    <Label text="à¦¦à¦¾à¦®/à¦•à§‡à¦œà¦¿:" styleClass="detail-label"/>
                                    <Label fx:id="lblPricePerKg" text="à§³ 45.00" styleClass="detail-value"/>
                                </VBox>
                            </HBox>
                        </VBox>
                        
                        <Button fx:id="btnViewCrop" text="ðŸ‘ à¦¬à¦¿à¦¸à§à¦¤à¦¾à¦°à¦¿à¦¤ à¦¦à§‡à¦–à§à¦¨" styleClass="button-secondary" onAction="#onViewCrop"/>
                    </HBox>
                </VBox>

                <!-- Farmer Details Card -->
                <VBox spacing="15" styleClass="card">
                    <padding>
                        <Insets top="20" bottom="20" left="25" right="25"/>
                    </padding>
                    
                    <Label text="ðŸ‘¨â€ðŸŒ¾ à¦•à§ƒà¦·à¦•à§‡à¦° à¦¤à¦¥à§à¦¯ / Farmer Details" styleClass="section-title"/>
                    
                    <HBox spacing="20" alignment="CENTER_LEFT">
                        <ImageView fx:id="imgFarmer" fitWidth="70" fitHeight="70" preserveRatio="true" styleClass="profile-photo"/>
                        
                        <VBox spacing="5" HBox.hgrow="ALWAYS">
                            <HBox spacing="8" alignment="CENTER_LEFT">
                                <Label fx:id="lblFarmerName" text="à¦†à¦¬à§à¦¦à§à¦² à¦•à¦°à¦¿à¦®" styleClass="farmer-name" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
                                <Label fx:id="lblFarmerVerified" text="âœ“" styleClass="verified-badge" visible="false"/>
                            </HBox>
                            <Label fx:id="lblFarmerId" text="ID: 1001" styleClass="info-text"/>
                            <Label fx:id="lblFarmerPhone" text="ðŸ“± 01712345678" styleClass="info-text"/>
                            <Label fx:id="lblFarmerDistrict" text="ðŸ“ à¦¯à¦¶à§‹à¦°" styleClass="info-text"/>
                        </VBox>
                        
                        <VBox spacing="8">
                            <Button fx:id="btnCallFarmer" text="ðŸ“ž à¦•à¦² à¦•à¦°à§à¦¨" styleClass="button-primary" onAction="#onCallFarmer" prefWidth="140"/>
                            <Button fx:id="btnViewFarmerProfile" text="ðŸ‘¤ à¦ªà§à¦°à§‹à¦«à¦¾à¦‡à¦² à¦¦à§‡à¦–à§à¦¨" styleClass="button-secondary" onAction="#onViewFarmerProfile" prefWidth="140"/>
                            <Button fx:id="btnChatFarmer" text="ðŸ’¬ à¦šà§à¦¯à¦¾à¦Ÿ" styleClass="button-secondary" onAction="#onChatFarmer" prefWidth="140" visible="false" managed="false"/>
                        </VBox>
                    </HBox>
                </VBox>

                <!-- Buyer Details Card -->
                <VBox spacing="15" styleClass="card">
                    <padding>
                        <Insets top="20" bottom="20" left="25" right="25"/>
                    </padding>
                    
                    <Label text="ðŸ›’ à¦•à§à¦°à§‡à¦¤à¦¾à¦° à¦¤à¦¥à§à¦¯ / Buyer Details" styleClass="section-title"/>
                    
                    <GridPane hgap="30" vgap="12">
                        <Label text="à¦¨à¦¾à¦®:" GridPane.rowIndex="0" GridPane.columnIndex="0" styleClass="detail-label"/>
                        <Label fx:id="lblBuyerName" text="à¦®à§‹à¦ƒ à¦°à¦«à¦¿à¦•à§à¦² à¦‡à¦¸à¦²à¦¾à¦®" GridPane.rowIndex="0" GridPane.columnIndex="1" styleClass="detail-value"/>
                        
                        <Label text="ID:" GridPane.rowIndex="1" GridPane.columnIndex="0" styleClass="detail-label"/>
                        <Label fx:id="lblBuyerId" text="2002" GridPane.rowIndex="1" GridPane.columnIndex="1" styleClass="detail-value"/>
                        
                        <Label text="à¦«à§‹à¦¨:" GridPane.rowIndex="2" GridPane.columnIndex="0" styleClass="detail-label"/>
                        <Label fx:id="lblBuyerPhone" text="01812345678" GridPane.rowIndex="2" GridPane.columnIndex="1" styleClass="detail-value"/>
                        
                        <Label text="à¦¡à§‡à¦²à¦¿à¦­à¦¾à¦°à¦¿ à¦ à¦¿à¦•à¦¾à¦¨à¦¾:" GridPane.rowIndex="3" GridPane.columnIndex="0" styleClass="detail-label"/>
                        <Label fx:id="lblDeliveryAddress" text="à¦¢à¦¾à¦•à¦¾, à¦®à¦¿à¦°à¦ªà§à¦°-à§§à§¦" GridPane.rowIndex="3" GridPane.columnIndex="1" styleClass="detail-value" wrapText="true"/>
                    </GridPane>

                    <HBox spacing="10" alignment="CENTER_RIGHT">
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button fx:id="btnCallBuyer" text="ðŸ“ž à¦•à¦²" styleClass="button-secondary" onAction="#onCallBuyer" visible="false" managed="false"/>
                        <Button fx:id="btnViewBuyerProfile" text="ðŸ‘¤ à¦ªà§à¦°à§‹à¦«à¦¾à¦‡à¦²" styleClass="button-secondary" onAction="#onViewBuyerProfile" visible="false" managed="false"/>
                        <Button fx:id="btnChatBuyer" text="ðŸ’¬ à¦šà§à¦¯à¦¾à¦Ÿ" styleClass="button-secondary" onAction="#onChatBuyer" visible="false" managed="false"/>
                    </HBox>
                </VBox>

                <!-- Transport & Notes Card -->
                <VBox spacing="15" styleClass="card">
                    <padding>
                        <Insets top="20" bottom="20" left="25" right="25"/>
                    </padding>
                    
                    <Label text="ðŸšš à¦ªà¦°à¦¿à¦¬à¦¹à¦¨ à¦“ à¦¨à§‹à¦Ÿ / Transport &amp; Notes" styleClass="section-title"/>
                    
                    <GridPane hgap="30" vgap="12">
                        <Label text="à¦ªà¦°à¦¿à¦¬à¦¹à¦¨:" GridPane.rowIndex="0" GridPane.columnIndex="0" styleClass="detail-label"/>
                        <Label fx:id="lblTransport" text="à¦•à§à¦°à§‡à¦¤à¦¾ à¦¨à¦¿à¦¯à¦¼à§‡ à¦¯à¦¾à¦¬à§‡à¦¨" GridPane.rowIndex="0" GridPane.columnIndex="1" styleClass="detail-value"/>
                        
                        <Label text="à¦¨à§‹à¦Ÿ:" GridPane.rowIndex="1" GridPane.columnIndex="0" styleClass="detail-label"/>
                        <Label fx:id="lblNotes" text="à¦¶à§€à¦˜à§à¦°à¦‡ à¦ªà§à¦°à¦¯à¦¼à§‹à¦œà¦¨" GridPane.rowIndex="1" GridPane.columnIndex="1" styleClass="detail-value" wrapText="true"/>
                    </GridPane>
                </VBox>

                <!-- Action Buttons (for farmer) -->
                <HBox fx:id="hboxFarmerActions" spacing="15" alignment="CENTER" visible="false" managed="false">
                    <Button fx:id="btnAcceptOrder" text="âœ“ à¦—à§à¦°à¦¹à¦£ à¦•à¦°à§à¦¨" styleClass="button-success" onAction="#onAcceptOrder" prefWidth="150"/>
                    <Button fx:id="btnRejectOrder" text="âœ• à¦¬à¦¾à¦¤à¦¿à¦² à¦•à¦°à§à¦¨" styleClass="button-danger" onAction="#onRejectOrder" prefWidth="150"/>
                    <Button fx:id="btnMarkDelivered" text="ðŸšš à¦¡à§‡à¦²à¦¿à¦­à¦¾à¦°à¦¿à¦° à¦œà¦¨à§à¦¯ à¦¦à¦¿à¦¨" styleClass="button-primary" onAction="#onMarkDelivered" prefWidth="180"/>
                </HBox>

                <!-- Action Buttons (for buyer) -->
                <HBox fx:id="hboxBuyerActions" spacing="15" alignment="CENTER" visible="false" managed="false">
                    <Button fx:id="btnCancelOrder" text="âœ• à¦…à¦°à§à¦¡à¦¾à¦° à¦¬à¦¾à¦¤à¦¿à¦²" styleClass="button-danger" onAction="#onCancelOrder" prefWidth="150"/>
                    <Button fx:id="btnMarkReceived" text="âœ… à¦ªà¦£à§à¦¯ à¦ªà§‡à¦¯à¦¼à§‡à¦›à¦¿" styleClass="button-success" onAction="#onMarkReceived" prefWidth="150"/>
                    <Button fx:id="btnRateOrder" text="â­ à¦°à§‡à¦Ÿà¦¿à¦‚ à¦¦à¦¿à¦¨" styleClass="button-primary" onAction="#onRateOrder" prefWidth="150"/>
                </HBox>

            </VBox>
        </ScrollPane>
    </center>
    
</BorderPane>
