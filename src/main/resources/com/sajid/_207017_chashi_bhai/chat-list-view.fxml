<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ProgressIndicator?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<BorderPane minWidth="1024" styleClass="root" stylesheets="@base.css,@components.css,@chat.css" xmlns:fx="http://javafx.com/fxml/1" xmlns="http://javafx.com/javafx/25" fx:controller="com.sajid._207017_chashi_bhai.controllers.ChatListController">
    
    <!-- Top Navigation -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="20" styleClass="nav-bar">
            <padding>
                <Insets bottom="15" left="20" right="20" top="15" />
            </padding>
            <Button fx:id="btnBack" onAction="#onBack" styleClass="back-button" text="â†" />
            <Label styleClass="page-title" text="ðŸ’¬ à¦šà§à¦¯à¦¾à¦Ÿ / Messages" />
            <Region HBox.hgrow="ALWAYS" />
            <Button fx:id="btnRefresh" onAction="#onRefresh" styleClass="button-secondary" text="ðŸ”„ à¦°à¦¿à¦«à§à¦°à§‡à¦¶" />
        </HBox>
    </top>

    <center>
        <VBox spacing="15">
            <padding>
                <Insets bottom="20" left="30" right="30" top="20" />
            </padding>

            <!-- Search Bar -->
            <HBox alignment="CENTER_LEFT" spacing="10" styleClass="search-bar">
                <padding>
                    <Insets bottom="10" left="15" right="15" top="10" />
                </padding>
                <Label styleClass="icon-medium" text="ðŸ”" />
                <TextField fx:id="txtSearch" onKeyReleased="#onSearchKeyUp" promptText="à¦šà§à¦¯à¦¾à¦Ÿ à¦–à§à¦à¦œà§à¦¨..." styleClass="search-input" HBox.hgrow="ALWAYS" />
            </HBox>

            <!-- Filter Tabs -->
            <HBox alignment="CENTER_LEFT" spacing="15">
                <Button fx:id="btnFilterAll" onAction="#onFilterAll" styleClass="filter-tab, filter-active" text="à¦¸à¦¬ (All)" />
                <Button fx:id="btnFilterUnread" onAction="#onFilterUnread" styleClass="filter-tab" text="à¦¨à¦¾ à¦ªà¦¡à¦¼à¦¾ (Unread)" />
                <Button fx:id="btnFilterFarmers" onAction="#onFilterFarmers" styleClass="filter-tab" text="à¦•à§ƒà¦·à¦• (Farmers)" />
                <Button fx:id="btnFilterBuyers" onAction="#onFilterBuyers" styleClass="filter-tab" text="à¦•à§à¦°à§‡à¦¤à¦¾ (Buyers)" />
            </HBox>

            <!-- Chat List -->
            <ScrollPane fitToHeight="true" fitToWidth="true" styleClass="scroll-pane">
                <VBox fx:id="vboxChatList" spacing="0">
                    
                    <!-- Chat items will be dynamically loaded here -->
                    
                    <!-- Empty state -->
                    <VBox fx:id="vboxEmptyState" alignment="CENTER" spacing="20" visible="false">
                        <padding>
                            <Insets bottom="60" top="60" />
                        </padding>
                        <Label style="-fx-font-size: 48px;" text="ðŸ’¬" />
                        <Label styleClass="empty-text" text="à¦•à§‹à¦¨à§‹ à¦šà§à¦¯à¦¾à¦Ÿ à¦¨à§‡à¦‡" />
                        <Label styleClass="empty-subtext" text="à¦¨à¦¤à§à¦¨ à¦šà§à¦¯à¦¾à¦Ÿ à¦¶à§à¦°à§ à¦•à¦°à¦¤à§‡ à¦•à§‹à¦¨à§‹ à¦«à¦¸à¦²à§‡ à¦¯à§‹à¦—à¦¾à¦¯à§‹à¦— à¦•à¦°à§à¦¨" />
                    </VBox>

                    <!-- Loading indicator -->
                    <VBox fx:id="vboxLoading" alignment="CENTER" spacing="20" visible="true">
                        <padding>
                            <Insets bottom="60" top="60" />
                        </padding>
                        <ProgressIndicator fx:id="progressIndicator" />
                        <Label styleClass="loading-text" text="à¦šà§à¦¯à¦¾à¦Ÿ à¦²à§‹à¦¡ à¦¹à¦šà§à¦›à§‡..." />
                    </VBox>

                </VBox>
            </ScrollPane>

        </VBox>
    </center>
    
</BorderPane>
